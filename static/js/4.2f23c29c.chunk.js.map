{"version":3,"sources":["components/common/FormControls/FormControls.module.css","components/common/FormControls/FormControls.jsx","utils/validators/validators.js","components/Login/Login.jsx"],"names":["module","exports","formControl","error","formSummaryError","FormControl","_ref","input","_ref$meta","meta","touched","props","child","Object","_Users_lapakot_Desktop_sandbox_network_social_net_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","hasError","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","styles","children","Textarea","restProps","assign","Input","createField","placeholder","nameField","validate","component","typeField","text","redux_form__WEBPACK_IMPORTED_MODULE_3__","name","type","__webpack_require__","d","__webpack_exports__","required","maxLengthCreator","value","maxLength","length","concat","r","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux_form__WEBPACK_IMPORTED_MODULE_2__","_utils_validators_validators__WEBPACK_IMPORTED_MODULE_4__","_common_FormControls_FormControls__WEBPACK_IMPORTED_MODULE_5__","_redux_auth_reducer__WEBPACK_IMPORTED_MODULE_6__","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","_common_FormControls_FormControls_module_css__WEBPACK_IMPORTED_MODULE_8__","_common_FormControls_FormControls_module_css__WEBPACK_IMPORTED_MODULE_8___default","_common_withRouter__WEBPACK_IMPORTED_MODULE_9__","redux__WEBPACK_IMPORTED_MODULE_10__","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","compose","connect","state","isAuth","auth","userId","login","withRouter","_ref2","to","formData","email","password","rememberMe"],"mappings":"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","file":"static/js/4.2f23c29c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1l7D3\",\"error\":\"FormControls_error__23iOF\",\"formSummaryError\":\"FormControls_formSummaryError__2Qsn1\"};","import React from \"react\";\nimport styles from \"./FormControls.module.css\";\nimport { Field } from \"redux-form\";\n\nexport const FormControl = ({ input, meta: {touched, error}, child, ...props }) => {\n  const hasError = touched && error;\n\n  return (\n    <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\n      <div>{props.children}</div>\n      <div>{hasError && <span>{error}</span>}</div>\n    </div>\n  );\n};\n\nexport const Textarea = (props) => {\n  const { input, meta, child, ...restProps } = props;\n  return (\n    <FormControl {...props}>\n      <textarea {...input} {...restProps}></textarea>\n    </FormControl>\n  );\n};\n\nexport const Input = (props) => {\n  const { input, meta, child, ...restProps } = props;\n  return (\n    <FormControl {...props}>\n      <input {...input} {...restProps}></input>\n    </FormControl>\n  );\n};\n\nexport const createField = (\n  placeholder,\n  nameField,\n  validate,\n  component,\n  typeField,\n  text\n) => {\n  return (\n    <div>\n      <Field\n        placeholder={placeholder}\n        name={nameField}\n        validate={validate}\n        component={component}\n        type={typeField}\n      />\n      {text}\n    </div>\n  );\n};\n","export const required = (value) => {\n  if (value) {\n    return undefined;\n  }\n  return \"Поле обязательное\";\n};\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n  if (value.length > maxLength) {\n    return `Максимальная длина ${maxLength} символов`;\n  }\n  return undefined;\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { required } from \"../../utils/validators/validators\";\nimport { createField, Input } from \"../common/FormControls/FormControls\";\nimport { login } from \"../../redux/auth-reducer\";\nimport { Navigate } from \"react-router-dom\";\nimport styles from \"../common/FormControls/FormControls.module.css\";\nimport withRouter from \"../common/withRouter\";\nimport { compose } from \"redux\";\n\nconst LoginForm = ({ handleSubmit, error }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      {createField(\"email\", \"email\", [required], Input)}\n      {createField(\"пароль\", \"password\", [required], Input, \"password\")}\n      {error && <div className={styles.formSummaryError}>{error}</div>}\n      {createField(\n        null,\n        \"rememberMe\",\n        null,\n        Input,\n        \"checkbox\",\n        \"Запомнить меня\"\n      )}\n      <div>\n        <Field component=\"button\" name=\"submitButton\">\n          Зайти\n        </Field>\n      </div>\n    </form>\n  );\n};\n\nconst LoginReduxForm = reduxForm({\n  form: \"login\",\n})(LoginForm);\n\nconst Login = ({ login, userId, isAuth }) => {\n  const onSubmit = (formData) => {\n    login(formData.email, formData.password, formData.rememberMe);\n  };\n\n  if (isAuth) {\n    return <Navigate to={`/profile/${userId}`}></Navigate>;\n  }\n\n  return (\n    <div>\n      <h1>Авторизация</h1>\n      <LoginReduxForm onSubmit={onSubmit} />\n    </div>\n  );\n};\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  userId: state.auth.userId,\n});\n\nexport default compose(connect(mapStateToProps, { login }), withRouter)(Login);\n"],"sourceRoot":""}